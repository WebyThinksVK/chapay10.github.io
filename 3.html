<html>
<head>
    <script src="https://tk-wolf.cs7777.vk.com/js/api/xd_connection.js?2"  type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">
  VK.init(function() { 
    VK.addCallback('onAllowMessagesFromCommunity', function() {
        console.log('Allow');
    });
    VK.addCallback('onAllowMessagesFromCommunityCancel', function() {
        console.log('Cancel');
    });
    VK.addCallback('onSettingsChanged', function() {
        console.log('Changed');
    });
    VK.addCallback('onSettingsCancel', function() {
        console.log('Cances');
    });
  }, function() { 
     // API initialization failed 
     // Can reload page here 
    }, '5.73');
  function AllowMessagesFromCommunityBox() {
    console.log('Click allow');
    group = document.getElementById("group_id").value;
    VK.callMethod('showAllowMessagesFromCommunityBox', group);
  };
    
  function SettingsBox() {
    console.log('Click settings');
    VK.callMethod("showSettingsBox", 8214);
  };
    
  function SettingsBox1() {
    VK.callMethod('showSubscriptionBox', 'create', {item: 'item1'});
  };
    function SettingsBox2() {
    VK.callMethod('showSubscriptionBox', 'resume', {item: 'item1'});
  };
</script>
<hr>
<button onclick="AllowMessagesFromCommunityBox()" class="button">showAllowMessagesFromCommunityBox</button>
<div class="text">Group id:</div>
<input type="text" value="154090051" id="group_id">
<button onclick="SettingsBox()" class="button">showSettingsBox</button>
<button onclick="SettingsBox1()" class="button">Create Subscription</button>
<button onclick="SettingsBox2()" class="button">Resume Subscription</button>
</body>
</html>
